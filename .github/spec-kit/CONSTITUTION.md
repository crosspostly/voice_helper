# üèõÔ∏è Constitution ‚Äî –ù–µ–∑—ã–±–ª–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞ voice_helper

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–≤—Ä–µ–º–µ–Ω–Ω–æ)**: –ü–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞ –æ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `App.tsx` –¥–æ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
- **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–æ–¥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è**: –•—É–∫–∏ –≤—ã–Ω–æ—Å—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ (`useLiveSession`, `useWakeLock`, `usePersistentState`, `useLogger`, `useAutoReconnectTimer`)
- **–ù–∏–∫–∞–∫–æ–≥–æ `any` –≤ TypeScript**: –í—Å–µ —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —è–≤–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –í—Å–µ async –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ `try-catch`, –≤—Å–µ WebSocket —Å–æ–±—ã—Ç–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (–Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π)
- **Frontend**: React 18+ —Å TypeScript
- **API**: Google Gemini Live API (WebSocket) + Gemini 2.5 Flash (text/TTS)
- **Build**: Vite
- **Deployment**: Vercel
- **State management**: React hooks + localStorage (—á–µ—Ä–µ–∑ `usePersistentState`)
- **Audio**: Web Audio API (AudioContext, AudioWorklet, MediaStream)

## –°—Ç–∏–ª–∏—Å—Ç–∏–∫–∞ –∏ UX
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞**: –ë–µ–∂–µ–≤—ã–π —Ç–µ–ø–ª—ã–π —Ñ–æ–Ω (#FFF8F5), –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π
- **–ß–∞—Ç-–±–∞–±–ª—ã**: –ë–µ–∂–µ–≤—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (#FDF6ED), —Å–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω—ã–µ –¥–ª—è AI (#E7F4EA)
- **–ù–∏–∫–∞–∫–æ–≥–æ –±–µ–ª–æ–≥–æ —Ñ–æ–Ω–∞ –≤ –º–æ–¥–∞–ª–∫–∞—Ö**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ–∂–µ–≤—ã–π –∏–ª–∏ —Å–µ—Ä—ã–π (#FDF6ED, #F7E7D6)
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ –∫—Ä–∞—Å–æ—Ç—ã**: –ö–æ–Ω—Ç—Ä–∞—Å—Ç —Ç–µ–∫—Å—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (–º–∏–Ω–∏–º—É–º 4.5:1)

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- **–ë–µ–∑ —Ç–µ—Å—Ç–æ–≤** (–Ω–∞ –¥–∞–Ω–Ω–æ–º —ç—Ç–∞–ø–µ ‚Äî —É—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç)
- **–ë–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö UI-–±–∏–±–ª–∏–æ—Ç–µ–∫** (—Ç–æ–ª—å–∫–æ Tailwind CSS)
- **–ë–µ–∑ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –±—ç–∫–µ–Ω–¥–∞** (100% –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **API key –∑–∞—â–∏—â—ë–Ω domain restriction** (—Ç–æ–ª—å–∫–æ –¥–ª—è voice-helper-peach.vercel.app)

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã WebSocket/Audio
- **–í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—Ç—å `ws.readyState`** –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –¥–∞–Ω–Ω—ã—Ö
- **–û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω —è–≤–Ω–æ** –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ WebSocket
- **–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å audio chunks**, –µ—Å–ª–∏ WebSocket –Ω–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `OPEN`
- **Cleanup –Ω–∞ –∫–∞–∂–¥—ã–π `useEffect`**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏, —Ç–∞–π–º–µ—Ä—ã, —Å—Ç—Ä–∏–º—ã

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞
- **Dev mode** –≤–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏
- **–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è** —á–µ—Ä–µ–∑ `useLogger`
- **–û—à–∏–±–∫–∏ API –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∏ UI**
